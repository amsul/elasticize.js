(function(c){var a=function(g,f){var e={};if(g.type!=="textarea"){return false}e.options=c.extend({},d,f);e.expand=function(){var j=e.$clone[0],i=e.$elem[0];var h=j.scrollHeight+e.options.paddingBottom;i.style.height=h+"px";e.$elem.trigger("change");return e};e.shrink=function(){var j=e.$clone[0],i=e.$elem[0];var h=(b)?j.fullHeight:j.fullHeight-e.options.paddingBottom;i.style.height=h+"px";return e};e.resize=function(){var i=e.$clone[0],h=e.$elem[0];i.value=h.value;i.style.height=0;i.fullHeight=i.scrollHeight+e.options.paddingBottom;if(i.fullHeight!==h.clientHeight){h.style.height=(b)?i.fullHeight+e.options.paddingBottom+"px":i.fullHeight+"px"}return e};e.__proto__.initialize=(function(){e.$elem=c(g);e.$clone=e.$elem.clone().attr("tabindex",-1);e.$clone.box=c("<div />").css({height:0,overflow:"hidden"}).html(e.$clone);e.$elem.after(e.$clone.box).css({resize:"none",overflow:"hidden"}).on({"keydown keyup change cut blur focus":e.resize,"input paste":function(){setTimeout(e.resize,0)},focus:e.expand,blur:e.shrink})})();return e},d={paddingBottom:16},b=c.browser.mozilla;c.fn.elasticize=function(e){return this.each(function(){if(!c.data(this,"elasticized")){c.data(this,"elasticized",a(this,e))}})}})(jQuery);